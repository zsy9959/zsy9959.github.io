<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="IP-4-OSPF路由计算," />










<meta name="description" content="前言•同一区域内的OSPF路由器拥有完全一致的LSDB，在区域内部，OSPF采用SPF算法完成路由计算。 •随着网络规模不断扩大，路由器为了完成路由计算所消耗的内存、CPU资源也越来越多。通过区域划分可以在一定程度上缓解路由器的压力。 •在大规模网络中除了OSPF之外，还可能存在其它路由协议，OSPF支持外部路由引入，从而使得OSPF路由器知晓到达域外的路由。 目标▫解释LSA关键字段的作用； ▫">
<meta property="og:type" content="article">
<meta property="og:title" content="OSPF路由计算">
<meta property="og:url" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/index.html">
<meta property="og:site_name" content="zsy&#39;s blog">
<meta property="og:description" content="前言•同一区域内的OSPF路由器拥有完全一致的LSDB，在区域内部，OSPF采用SPF算法完成路由计算。 •随着网络规模不断扩大，路由器为了完成路由计算所消耗的内存、CPU资源也越来越多。通过区域划分可以在一定程度上缓解路由器的压力。 •在大规模网络中除了OSPF之外，还可能存在其它路由协议，OSPF支持外部路由引入，从而使得OSPF路由器知晓到达域外的路由。 目标▫解释LSA关键字段的作用； ▫">
<meta property="og:locale">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/1.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/2.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/3.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/4.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/5.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/6.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/7.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/8.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/9.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/10.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/11.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/12.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/13.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/14.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/15.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/16.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/17.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/18.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/19.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/20.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/21.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/22.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/23.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/24.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/25.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/26.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/27.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/28.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/29.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/30.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/31.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/32.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/33.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/34.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/35.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/36.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/37.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/38.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/39.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/40.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/41.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/42.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/43.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/44.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/45.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/46.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/47.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/48.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/49.png">
<meta property="og:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/50.png">
<meta property="article:published_time" content="2021-05-09T11:04:13.000Z">
<meta property="article:modified_time" content="2021-05-17T06:00:47.887Z">
<meta property="article:author" content="张思宇">
<meta property="article:tag" content="IP-4-OSPF路由计算">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/1.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://example.com/2021/05/09/OSPF路由计算/"/>





  <title>OSPF路由计算 | zsy's blog</title>
  








<meta name="generator" content="Hexo 5.4.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">zsy's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">just simple</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/home" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/mydog.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zsy's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">OSPF路由计算</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-05-09T19:04:13+08:00">
                2021-05-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>•同一区域内的OSPF路由器拥有完全一致的LSDB，在区域内部，OSPF采用SPF算法完成路由计算。</p>
<p>•随着网络规模不断扩大，路由器为了完成路由计算所消耗的内存、CPU资源也越来越多。通过区域划分可以在一定程度上缓解路由器的压力。</p>
<p>•在大规模网络中除了OSPF之外，还可能存在其它路由协议，OSPF支持外部路由引入，从而使得OSPF路由器知晓到达域外的路由。</p>
<h1 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h1><p>▫解释LSA关键字段的作用；</p>
<p>▫描述常见的LSA类型及其功能；</p>
<p>▫阐明SPF算法；</p>
<p>▫描述OSPF区域内路由、区域间路由计算原理；</p>
<p>▫描述OSPF区域间路由的防环机制；</p>
<p>▫描述OSPF外部路由计算原理。</p>
<h1 id="区域内路由计算"><a href="#区域内路由计算" class="headerlink" title="区域内路由计算"></a>区域内路由计算</h1><h2 id="LSA概述"><a href="#LSA概述" class="headerlink" title="LSA概述"></a>LSA概述</h2><h3 id="LSA的基本概念"><a href="#LSA的基本概念" class="headerlink" title="LSA的基本概念"></a>LSA的基本概念</h3><p>•LSA是OSPF进行路由计算的关键依据。</p>
<p>•OSPF的LSU报文可以携带多种不同类型的LSA。</p>
<p>•各种类型的LSA拥有相同的报文头部。</p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/1.png"></p>
<p><strong>重要字段解释</strong></p>
<p>•<strong>LS Age</strong>（链路状态老化时间）：此字段表示LSA已经生存的时间，单位是秒。</p>
<p>•<strong>Options</strong>（可选项）：每一个bit都对应了OSPF所支持的某种特性。</p>
<p>•<strong>LS Type</strong>（链路状态类型）<strong>：</strong>指示本LSA的类型。</p>
<p>•<strong>Link State ID</strong>（链路状态ID）<strong>：</strong>不同的LSA，对该字段的定义不同。</p>
<p>•<strong>Advertising Router</strong>（通告路由器）：产生该LSA的路由器的Router ID。</p>
<p>•<strong>LS</strong> <strong>Sequence</strong> <strong>Number</strong>（链路状态序列号）：当LSA每次有新的实例产生时，序列号就会增加。</p>
<p>•<strong>LS Checksum</strong>（校验和）：用于保证数据的完整性和准确性。</p>
<p>•<strong>Length</strong>：是一个包含LSA头部在内的LSA的总长度值。</p>
<blockquote>
<p>•链路状态类型、链路状态ID、通告路由器三元组唯一地标识了一个LSA。</p>
<p>•链路状态老化时间 、链路状态序列号 、校验和用于判断LSA的新旧</p>
<p>•LS Age：当LSA被始发时，该字段为0，随着LSA在网络中被泛洪，该时间逐渐累加，当到达MaxAge（缺省值为3600s）时，LSA不再用于路由计算。</p>
<p>•LS Sequence Number：该字段用于判断LSA的新旧或是否存在重复的实例。序列号范围是0x80000001-0x7FFFFFFF，路由器始发一个LSA，序列号为0x80000001，之后每次更新序列号加1，当LSA达到最大序列号时，重新产生该LSA，并且把序列号设置为0x80000001。</p>
</blockquote>
<h3 id="常见LSA的类型"><a href="#常见LSA的类型" class="headerlink" title="常见LSA的类型"></a>常见LSA的类型</h3><p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/2.png"></p>
<blockquote>
<p>•在许多场合中，我们习惯使用类型值来称呼对应的LSA，例如1类LSA等同于Router LSA，2类LSA等同于Network LSA，以此类推。</p>
</blockquote>
<h2 id="Router-LSA"><a href="#Router-LSA" class="headerlink" title="Router-LSA"></a>Router-LSA</h2><h3 id="Router-LSA详解-1"><a href="#Router-LSA详解-1" class="headerlink" title="Router LSA详解 (1)"></a>Router LSA详解 (1)</h3><p>•Router LSA（1类LSA）：每台OSPF路由器都会产生。它描述了该路由器直连接口的信息。</p>
<p>•Router LSA只能在所属的区域内泛洪。</p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/3.png"></p>
<p>•V (Virtual Link ) ：如果产生此LSA的路由器是虚连接的端点，则置为1。 </p>
<p>•E (External )： 如果产生此LSA的路由器是ASBR，则置为1。 </p>
<p>•B (Border )：如果产生此LSA的路由器是ABR，则置为1。 </p>
<p>•links ：LSA中的Link（链路）数量。Router LSA使用Link来承载路由器直连接口的信息。</p>
<h3 id="Router-LSA详解-2"><a href="#Router-LSA详解-2" class="headerlink" title="Router LSA详解 (2)"></a>Router LSA详解 (2)</h3><p>•Router LSA使用Link来承载路由器直连接口的信息。</p>
<p>•每条Link均包含“链路类型”、“链路ID”、“链路数据”以及“度量值”这几个关键信息。</p>
<p>•路由器可能会采用一个或者多个Link来描述某个接口。</p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/4.png"></p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/5.png"></p>
<blockquote>
<p>•度量值（Metric）：Cost值。</p>
</blockquote>
<h3 id="Router-LSA描述P2P网络"><a href="#Router-LSA描述P2P网络" class="headerlink" title="Router LSA描述P2P网络"></a>Router LSA描述P2P网络</h3><p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/6.png"></p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/7.png"></p>
<h3 id="Router-LSA描述TransNet"><a href="#Router-LSA描述TransNet" class="headerlink" title="Router LSA描述TransNet"></a>Router LSA描述TransNet</h3><p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/8.png"></p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/9.png"></p>
<h2 id="Network-LSA"><a href="#Network-LSA" class="headerlink" title="Network-LSA"></a>Network-LSA</h2><h3 id="Network-LSA详解"><a href="#Network-LSA详解" class="headerlink" title="Network LSA详解"></a>Network LSA详解</h3><p>•Network LSA（2类LSA） ：由DR产生，描述本网段的链路状态，在所属的区域内传播。</p>
<p>•Network LSA 记录了该网段内所有与DR建立了邻接关系的OSPF路由器，同时携带了该网段的网络掩码。</p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/10.png"></p>
<p>•<strong>Link State ID</strong> <strong>：</strong>DR的接口IP地址。</p>
<p>•<strong>Network Mask</strong>：MA网络的子网掩码。</p>
<p>•<strong>Attached Router</strong>：连接到该MA网络的路由器的Router-ID（与该DR建立了邻接关系的邻居的Router-ID，以及DR自己的Router-ID），如果有多台路由器接入该MA网络，则使用多个字段描述。</p>
<h3 id="Network-LSA描述MA网络"><a href="#Network-LSA描述MA网络" class="headerlink" title="Network LSA描述MA网络"></a>Network LSA描述MA网络</h3><p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/11.png"></p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/12.png"></p>
<h2 id="SPF计算过程"><a href="#SPF计算过程" class="headerlink" title="SPF计算过程"></a>SPF计算过程</h2><h3 id="SPF算法-1"><a href="#SPF算法-1" class="headerlink" title="SPF算法 (1)"></a>SPF算法 (1)</h3><p>Phase 1：构建SPF树。</p>
<p>▫路由器将自己作为最短路径树的树根，根据Router-LSA和Network-LSA中的拓扑信息，依次将Cost值最小的路由器添加到SPF树中。路由器以Router ID或者DR标识。</p>
<p>▫广播网络中DR和其所连接路由器的Cost值为0。</p>
<p>▫SPF树中只有单向的最短路径，保证了OSPF区域内路由计算不会出现环路。</p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/13.png"></p>
<h3 id="SPF算法-2"><a href="#SPF算法-2" class="headerlink" title="SPF算法 (2)"></a>SPF算法 (2)</h3><p>Phase 2：计算最优路由。</p>
<p>▫将Router-LSA、Network-LSA中的路由信息以叶子节点形式附加在对应的OSPF路由器上，计算最优路由。</p>
<p>▫已经出现的路由信息不会再添加到SPF树干上。</p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/14.png"></p>
<h3 id="SPF算法举例"><a href="#SPF算法举例" class="headerlink" title="SPF算法举例"></a>SPF算法举例</h3><p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/15.png"></p>
<h3 id="构建SPF树-1"><a href="#构建SPF树-1" class="headerlink" title="构建SPF树 (1)"></a>构建SPF树 (1)</h3><p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/16.png"></p>
<h3 id="构建SPF树-2"><a href="#构建SPF树-2" class="headerlink" title="构建SPF树 (2)"></a>构建SPF树 (2)</h3><p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/17.png"></p>
<h3 id="构建SPF树-3"><a href="#构建SPF树-3" class="headerlink" title="构建SPF树 (3)"></a>构建SPF树 (3)</h3><p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/18.png"></p>
<h3 id="构建SPF树-4"><a href="#构建SPF树-4" class="headerlink" title="构建SPF树 (4)"></a>构建SPF树 (4)</h3><p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/19.png"></p>
<blockquote>
<p>•R3在候选列表中存在两个不同的Cost值，分别为48和2，因此将Cost值较小的添加到最短路径树，并从候选列表中删除。</p>
</blockquote>
<h3 id="构建SPF树-5"><a href="#构建SPF树-5" class="headerlink" title="构建SPF树 (5)"></a>构建SPF树 (5)</h3><p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/20.png"></p>
<h3 id="构建SPF树-6"><a href="#构建SPF树-6" class="headerlink" title="构建SPF树 (6)"></a>构建SPF树 (6)</h3><p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/21.png"></p>
<h3 id="构建SPF树-7"><a href="#构建SPF树-7" class="headerlink" title="构建SPF树 (7)"></a>构建SPF树 (7)</h3><p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/22.png"></p>
<h3 id="计算最优路由"><a href="#计算最优路由" class="headerlink" title="计算最优路由"></a>计算最优路由</h3><p>•从根节点开始依次添加各节点LSA中的路由信息。</p>
<p>•添加顺序为各节点加入SPF树的顺序，已经出现的忽略。</p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/23.png"></p>
<blockquote>
<p>•第二阶段根据Router LSA中的Stub、Network LSA中的路由信息，完成最优路由的计算。</p>
<p>•从根节点开始，依次添加LSA中的路由信息（添加顺序按照每个节点加入SPF树的顺序）：</p>
<p>▫10.0.1.1（R1）的Router LSA中，共1个Stub连接，网络号/子网掩码10.0.13.0/24，Metric=48；</p>
<p>▫10.0.12.2（DR）的Network LSA中，网络号/子网掩码10.0.12.0/24，Metric=1+0=1；</p>
<p>▫10.0.2.2（R2）的Router LSA中，共1个Stub连接，网络号/子网掩码10.0.24.0/24，Metric=1+0+48=49；</p>
<p>▫10.0.235.2（DR）的Network LSA中，网络号/子网掩码10.0.235.0/24，Metric=1+0+1=2；</p>
<p>▫10.0.3.3（R3）的Router LSA中，共1个Stub连接，网络号/子网掩码10.0.13.0/24，已在R1上，忽略；</p>
<p>▫10.0.5.5（R5）的Router LSA中，共1个Stub连接，网络号/子网掩码10.0.45.0/24，Metric=1+0+0+1+48=50；</p>
<p>▫10.0.4.4（R4）的Router LSA中，共2个Stub连接，网络号/子网掩码10.0.24.0/24，已在R2上，忽略；网络号/子网掩码10.0.45.0/24，已在R5上，忽略。</p>
</blockquote>
<h3 id="结果验证"><a href="#结果验证" class="headerlink" title="结果验证"></a>结果验证</h3><p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/24.png"></p>
<h2 id="思考题"><a href="#思考题" class="headerlink" title="思考题"></a>思考题</h2><p>1.（多选题）Router-LSA中主要包含哪几种链路类型？(   )</p>
<p><strong>A.P2P</strong></p>
<p><strong>B.TransNet</strong></p>
<p><strong>C.StubNet</strong></p>
<p><strong>D.Vlink</strong></p>
<p>2.（判断题）经过SPF算法计算后，被认为是最优的OSPF路由一定会被放入路由器的路由表。(  )</p>
<p>A.对</p>
<p><strong>B.错</strong></p>
<h2 id="本节小结"><a href="#本节小结" class="headerlink" title="本节小结"></a>本节小结</h2><p>•OSPF根据LSDB计算路由表，LSDB中可能存在多种类型的LSA，并且所有的LSA有相同的报文头部格式。</p>
<p>•同一区域的OSPF路由器拥有完全一致的LSDB。在只有一个区域的情况下，区域内部主要存在两种类型的LSA，即Router-LSA和Network-LSA。</p>
<p>•每台路由器都会产生Router-LSA，描述了路由器的直连接口信息。</p>
<p>•在MA网络中，DR会产生Network-LSA来描述接入该MA网络的所有路由器的Router-ID（其中包括DR自身），以及这个网络的掩码。</p>
<h1 id="区域间路由计算"><a href="#区域间路由计算" class="headerlink" title="区域间路由计算"></a>区域间路由计算</h1><h2 id="区域间路由计算过程"><a href="#区域间路由计算过程" class="headerlink" title="区域间路由计算过程"></a>区域间路由计算过程</h2><h3 id="大型网络中，单区域OSPF存在的问题"><a href="#大型网络中，单区域OSPF存在的问题" class="headerlink" title="大型网络中，单区域OSPF存在的问题"></a>大型网络中，单区域OSPF存在的问题</h3><p>•一系列连续的OSPF路由器构成的网络称为OSPF域（Domain）。</p>
<p>•OSPF要求网络内的路由器同步LSDB，实现对于网络的一致认知。</p>
<p>•当网络规模越来越大时，LSDB将变得非常臃肿，设备基于该LSDB进行路由计算，其负担也极大地增加了，此外路由器的路由表规模也变大了，这些无疑都将加大路由器的性能损耗。</p>
<p>•当网络拓扑发生变更时，这些变更需要被扩散到整个网络，并可能引发整网的路由重计算。</p>
<p>•单区域的设计，使得OSPF无法部署路由汇总。</p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/25.png"></p>
<h3 id="区域划分"><a href="#区域划分" class="headerlink" title="区域划分"></a>区域划分</h3><p>•Router LSA和Network LSA只在区域内泛洪，因此通过区域划分在一定程度上降低网络设备的内存及CPU的消耗。</p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/26.png"></p>
<p>划分区域后，路由器可以分为两种角色：</p>
<p>区域内部路由器（Internal Router）：该类设备的所有接口都属于同一个OSPF区域。如R1、R4、R5。</p>
<p>区域边界路由器（Area Border Router）：该类设备接口分别连接两个及两个以上的不同区域。如R2、R3。</p>
<h3 id="区域间路由信息传递"><a href="#区域间路由信息传递" class="headerlink" title="区域间路由信息传递"></a>区域间路由信息传递</h3><p>•OSPF区域间路由信息传递是通过ABR产生的Network Summary LSA（3类LSA）实现的。</p>
<p>•以192.168.1.0/24路由信息为例：</p>
<p>​    ▫R2依据Area 1内所泛洪的Router LSA及Network LSA计算得出192.168.1.0/24路由（区域内路由），并将该路由通过Network Summary LSA通告到Area 0。R3根据该LSA可计算出到达192.168.1.0/24的区域间路由。</p>
<p>​    ▫R3重新生成一份Network Summary LSA通告到Area 2中，至此所有OSPF区域都能学习到去往192.168.1.0/24的路由。</p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/27.png"></p>
<h3 id="Network-Summary-LSA详解"><a href="#Network-Summary-LSA详解" class="headerlink" title="Network Summary LSA详解"></a>Network Summary LSA详解</h3><p>Network Summary LSA（3类LSA）由ABR产生，用于向一个区域通告到达另一个区域的路由。</p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/28.png"></p>
<h3 id="Network-Summary-LSA示例"><a href="#Network-Summary-LSA示例" class="headerlink" title="Network Summary LSA示例"></a>Network Summary LSA示例</h3><p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/29.png"></p>
<h3 id="R1和R3的路由计算"><a href="#R1和R3的路由计算" class="headerlink" title="R1和R3的路由计算"></a>R1和R3的路由计算</h3><p>1.通过区域内SPF的计算，R1到达R2的Cost值为1，R3到达R2的Cost值为2。</p>
<p>2.R1和R3根据收到的Network Summary LSA进行路由计算：</p>
<p>▫R1将到达R2和Cost值和Network Summary LSA所携带的Cost值相加，因此R1到达192.168.1.0/24的Cost值为2。</p>
<p>▫R3将到达R2和Cost值和Network Summary LSA所携带的Cost值相加，因此R3到达192.168.1.0/24的Cost值为3。</p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/30.png"></p>
<h3 id="R5的路由计算"><a href="#R5的路由计算" class="headerlink" title="R5的路由计算"></a>R5的路由计算</h3><p>1.R3作为ABR，它通过Area 0内泛洪的Network Summary LSA计算出到达192.168.1.0/24的路由，然后重新向Area 2注入到达该网段的Network Summary LSA，其中包含自己到达该网段的Cost（值为3）。</p>
<p>2.R5在SPF中计算得知到达R3的Cost为1，因此R5到达192.168.1.0/24的Cost为4。</p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/31.png"></p>
<h3 id="区域间路由计算结果验证"><a href="#区域间路由计算结果验证" class="headerlink" title="区域间路由计算结果验证"></a>区域间路由计算结果验证</h3><p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/32.png"></p>
<h2 id="区域间路由防环机制"><a href="#区域间路由防环机制" class="headerlink" title="区域间路由防环机制"></a>区域间路由防环机制</h2><h3 id="域间路由环路的产生"><a href="#域间路由环路的产生" class="headerlink" title="域间路由环路的产生"></a>域间路由环路的产生</h3><p>•OSPF区域间路由的传播过程与距离矢量路由协议的路由传播过程非常相似。</p>
<p>•对于区域间路由的传递，OSPF也需要一定的防环机制。</p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/33.png"></p>
<h3 id="区域间路由的防环机制-1"><a href="#区域间路由的防环机制-1" class="headerlink" title="区域间路由的防环机制 (1)"></a>区域间路由的防环机制 (1)</h3><p>OSPF要求所有的非骨干区域必须与Area0直接相连，区域间路由需经由Area0中转。</p>
<p>区域间的路由传递不能发生在两个非骨干区域之间，这使得OSPF的区域架构在逻辑上形成了一个类似星型的拓扑。</p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/34.png"></p>
<h3 id="区域间路由的防环机制-2"><a href="#区域间路由的防环机制-2" class="headerlink" title="区域间路由的防环机制 (2)"></a>区域间路由的防环机制 (2)</h3><p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/35.png"></p>
<h3 id="区域间路由的防环机制-3"><a href="#区域间路由的防环机制-3" class="headerlink" title="区域间路由的防环机制 (3)"></a>区域间路由的防环机制 (3)</h3><p>ABR从非骨干区域收到的3类LSA不能用于区域间路由的计算。</p>
<p>R1和R2、R3和R4之间的链路中断导致骨干区域不连续。</p>
<ul>
<li><p>R4将10.0.2.2/32路由以3类LSA的形式发送到Area 1。</p>
</li>
<li><p>R5和R6可以根据上述3类LSA计算出10.0.2.2/32路由。</p>
</li>
<li><p>R3从非骨干区域收到3类LSA，不进行路由计算，也不会将此3类LSA发送到其他区域。</p>
</li>
<li><p>此时，R1和R3都无法和10.0.2.2/32通信。</p>
</li>
</ul>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/36.png"></p>
<h2 id="虚连接的作用及配置"><a href="#虚连接的作用及配置" class="headerlink" title="虚连接的作用及配置"></a>虚连接的作用及配置</h2><p>•OSPF要求骨干区域必须是连续的，但是并不要求物理上连续，可以使用虚连接使骨干区域在逻辑上连续。</p>
<p>•虚连接可以在任意两个ABR上建立，但是要求这两个ABR都有端口连接到一个相同的非骨干区域。</p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/37.png"></p>
<blockquote>
<p>•注意：虚连接的创建使OSPF协议可以通过非骨干区域通信，违背了OSPF区域间的防环规则，在某些场景下会导致路由环路的产生，因此不建议部署OSPF虚连接。</p>
</blockquote>
<h2 id="思考题-1"><a href="#思考题-1" class="headerlink" title="思考题"></a>思考题</h2><p>1.（判断题）一条Network Summary LSA只能描述一条路由信息。</p>
<p>A.错</p>
<p><strong>B.对</strong></p>
<p>2.（简答题）OSPF如何避免区域间的路由环路？</p>
<p><strong>OSPF划分了骨干区域和非骨干区域，所有非骨干区域均直接和骨干区域相连，且骨干区域只有一个；非骨干区域之间的通信都要通过骨干区域中转；并规定从骨干区域传来的三类LSA不再传回骨干区域。</strong></p>
<h2 id="本节小结-1"><a href="#本节小结-1" class="headerlink" title="本节小结"></a>本节小结</h2><p>•OSPF引入了多区域的概念，使得该协议能够支持更大规模的组网。</p>
<p>•OSPF使用3类LSA来描述区域间的路由信息。</p>
<p>•为了避免出现区域间路由环路，OSPF设计了多个规则。</p>
<p>•OSPF Virtual Link是一种虚拟的、逻辑的链路，被部署在两台OSPF路由器之间，它穿越某个非骨干区域，用于实现另一个非骨干区域与Area0的连接。Virtual Link应该始终作为一种临时的技术手段来解决非骨干区域没有与Area0直接相连的情况。</p>
<h1 id="外部路由计算"><a href="#外部路由计算" class="headerlink" title="外部路由计算"></a>外部路由计算</h1><h2 id="OSPF外部路由引入背景"><a href="#OSPF外部路由引入背景" class="headerlink" title="OSPF外部路由引入背景"></a>OSPF外部路由引入背景</h2><p>网络中存在部分链路未开启OSPF协议如：</p>
<p>▫路由器连接外部网络使用静态路由或者BGP协议；</p>
<p>▫服务器直连的链路未开启OSPF协议。</p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/38.png"></p>
<h2 id="外部路由引入的基本概念"><a href="#外部路由引入的基本概念" class="headerlink" title="外部路由引入的基本概念"></a>外部路由引入的基本概念</h2><p>•ASBR（AS Boundary Router）：自治系统边界路由器。只要一台OSPF设备引入了外部路由，它就成为了ASBR。如图中的R1。</p>
<p>•ASBR将外部路由信息以AS-external LSA（5类LSA）的形式在OSPF网络内泛洪。</p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/39.png"></p>
<blockquote>
<p>•<strong>在OSPF进程下，通过如下命令引入外部路由。设备支持引入BGP、ISIS、OSPF、直连以及静态路由。</strong></p>
<p>▫<strong>import-route</strong> { <strong>limit</strong> <em>limit-number</em> | { <strong>bgp</strong> [ <strong>permit-ibgp</strong> ] | <strong>direct</strong> | <strong>unr</strong> | <strong>rip</strong> [ <em>process-id-rip</em> ] | <strong>static</strong> | <strong>isis</strong> [ process-id-isis ] | <strong>ospf</strong> [ process-id-ospf ] } [ <strong>cost</strong> <em>cost</em> | <strong>type</strong> <em>type</em> | <strong>tag</strong> <em>tag</em> | <strong>route-policy</strong> <em>route-policy-name</em> ]  }</p>
</blockquote>
<h2 id="AS-external-LSA详解"><a href="#AS-external-LSA详解" class="headerlink" title="AS-external LSA详解"></a>AS-external LSA详解</h2><p>AS-external LSA（5类LSA）：由ASBR产生，描述到达AS外部的路由，该LSA会被通告到所有的区域（除了Stub区域和NSSA区域）。</p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/40.png"></p>
<blockquote>
<p>•Forwarding Address：当FA为0.0.0.0时，则到达该外部网段的流量会被发往引入这条外部路由的ASBR。而如果FA不为0.0.0.0，则流量会被发往这个转发地址。FA这一概念的引入，使得OSPF在某些特殊的场景中得以规避次优路径问题。</p>
<p>•External Route Tag（外部路由标记）：这是一个只有外部路由才能够携带的标记，常被用于部署路由策略。</p>
</blockquote>
<h2 id="AS-external-LSA示例"><a href="#AS-external-LSA示例" class="headerlink" title="AS-external LSA示例"></a>AS-external LSA示例</h2><p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/41.png"></p>
<h2 id="R3的路由计算过程"><a href="#R3的路由计算过程" class="headerlink" title="R3的路由计算过程"></a>R3的路由计算过程</h2><p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/42.png"></p>
<h2 id="ASBR-Summary-LSA"><a href="#ASBR-Summary-LSA" class="headerlink" title="ASBR-Summary LSA"></a>ASBR-Summary LSA</h2><p>ASBR-Summary LSA（4类LSA）：由ABR产生，描述到ASBR的路由，通告给除ASBR所在区域的其他相关区域。</p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/43.png"></p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/44.png"></p>
<h2 id="ASBR-Summary-LSA示例"><a href="#ASBR-Summary-LSA示例" class="headerlink" title="ASBR-Summary LSA示例"></a>ASBR-Summary LSA示例</h2><p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/45.png"></p>
<h2 id="R5的路由计算过程"><a href="#R5的路由计算过程" class="headerlink" title="R5的路由计算过程"></a>R5的路由计算过程</h2><p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/46.png"></p>
<h2 id="区分OSPF外部路由的2种度量值类型-1"><a href="#区分OSPF外部路由的2种度量值类型-1" class="headerlink" title="区分OSPF外部路由的2种度量值类型 (1)"></a>区分OSPF外部路由的2种度量值类型 (1)</h2><p>•<strong>Metric-Type-1</strong></p>
<p>▫当外部路由的开销与自治系统内部的路由开销相当，并且和OSPF自身路由的开销具有可比性时，可以认为这类路由的可信程度较高，将其配置成Metric-Type-1。</p>
<p>▫Metric-Type-1外部路由的开销为AS内部开销（路由器到ASBR的开销）与AS外部开销之和。</p>
<p>•<strong>Metric-Type-2</strong></p>
<p>▫当ASBR到AS之外的开销远远大于在AS之内到达ASBR的开销时，可以认为这类路由的可信程度较低，将其配置成Metric-Type-2。</p>
<p>▫Metric-Type-2外部路由的开销等于AS外部开销。</p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/47.png"></p>
<h2 id="区分OSPF外部路由的2种度量值类型-2"><a href="#区分OSPF外部路由的2种度量值类型-2" class="headerlink" title="区分OSPF外部路由的2种度量值类型 (2)"></a>区分OSPF外部路由的2种度量值类型 (2)</h2><p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/48.png"></p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/49.png"></p>
<p><img src="/2021/05/09/OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/50.png"></p>
<h2 id="思考题-2"><a href="#思考题-2" class="headerlink" title="思考题"></a>思考题</h2><p>1.（多选题）ABR可能会产生以下哪些类型的LSA？(   )</p>
<p><strong>A. ASBR-Summary LSA</strong></p>
<p><strong>B. AS-external-LSA</strong></p>
<p><strong>C. Router-LSA</strong></p>
<p><strong>D. Network Summary LSA</strong></p>
<p>2.（单选题）对于同一个路由前缀，以下哪种优先级最高？(   )</p>
<p><strong>A.区域内路由</strong></p>
<p>B.区域间路由</p>
<p>C.第一类外部路由</p>
<p>D.第二类外部路由</p>
<h2 id="本节小结-2"><a href="#本节小结-2" class="headerlink" title="本节小结"></a>本节小结</h2><p>•在一个大规模网络中，可能存在多种不同的路由协议，OSPF支持将AS外部路由引入本AS，使得AS内的路由器能够获知到达AS外部的路由。</p>
<p>•ASBR将外部路由引入OSPF后，使用5类LSA描述它们，与ASBR同属一个区域的路由器能够根据5类LSA以及区域内的1类、2类LSA完成外部路由计算；与ASBR不在同一个区域的路由器还需借助4类LSA才能完成外部路由计算。</p>
<p>•OSPF将外部路由引入OSPF后，可以设置路由的度量值类型：Metric-Type-1或Metric-Type-2，不同度量值类型的外部路由，其开销的计算方式不同，其路由的优先级也不相同，Metric-Type-1路由的优先级高于Metric-Type-2路由。</p>
<h1 id="本章总结"><a href="#本章总结" class="headerlink" title="本章总结"></a>本章总结</h1><p>•本章知识点包括OSPF区域内路由计算、区域间路由计算、外部路由计算等。</p>
<p>•OSPF路由遵循以下优先级顺序，区域内路由&gt;区域间路由&gt;Metric-Type-1外部路由&gt;Metric-Type-2外部路由。</p>
<p>•LSA是OSPF链路状态信息的载体，随着网络规模逐渐变大，网络业务逐渐变得复杂，通过OSPF区域的划分以及大量外部路由的引入，路由器的LSDB中可能存在大量的1类、2类、3类、4类、5类LSA，容易造成设备性能的浪费。</p>
<p>•OSPF存在什么技术手段可以在保证网络可达性的前提下，减少设备性能损耗么？</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/IP-4-OSPF%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97/" rel="tag"># IP-4-OSPF路由计算</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2021/05/06/OSPF%E5%9F%BA%E7%A1%80/" rel="next" title="IP-OSPF基础">
                <i class="fa fa-chevron-left"></i> IP-OSPF基础
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2021/05/09/OSPF%E7%89%B9%E6%AE%8A%E5%8C%BA%E5%9F%9F%E5%8F%8A%E5%85%B6%E5%AE%83%E7%89%B9%E6%80%A7/" rel="prev" title="OSPF特殊区域及其它特性">
                OSPF特殊区域及其它特性 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/mydog.jpg"
                alt="" />
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">45</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">50</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/zsy9959" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:zsy9959@163.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%9B%AE%E6%A0%87"><span class="nav-number">2.</span> <span class="nav-text">目标</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8C%BA%E5%9F%9F%E5%86%85%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97"><span class="nav-number">3.</span> <span class="nav-text">区域内路由计算</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#LSA%E6%A6%82%E8%BF%B0"><span class="nav-number">3.1.</span> <span class="nav-text">LSA概述</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#LSA%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-number">3.1.1.</span> <span class="nav-text">LSA的基本概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81LSA%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="nav-number">3.1.2.</span> <span class="nav-text">常见LSA的类型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Router-LSA"><span class="nav-number">3.2.</span> <span class="nav-text">Router-LSA</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Router-LSA%E8%AF%A6%E8%A7%A3-1"><span class="nav-number">3.2.1.</span> <span class="nav-text">Router LSA详解 (1)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Router-LSA%E8%AF%A6%E8%A7%A3-2"><span class="nav-number">3.2.2.</span> <span class="nav-text">Router LSA详解 (2)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Router-LSA%E6%8F%8F%E8%BF%B0P2P%E7%BD%91%E7%BB%9C"><span class="nav-number">3.2.3.</span> <span class="nav-text">Router LSA描述P2P网络</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Router-LSA%E6%8F%8F%E8%BF%B0TransNet"><span class="nav-number">3.2.4.</span> <span class="nav-text">Router LSA描述TransNet</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Network-LSA"><span class="nav-number">3.3.</span> <span class="nav-text">Network-LSA</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Network-LSA%E8%AF%A6%E8%A7%A3"><span class="nav-number">3.3.1.</span> <span class="nav-text">Network LSA详解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Network-LSA%E6%8F%8F%E8%BF%B0MA%E7%BD%91%E7%BB%9C"><span class="nav-number">3.3.2.</span> <span class="nav-text">Network LSA描述MA网络</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SPF%E8%AE%A1%E7%AE%97%E8%BF%87%E7%A8%8B"><span class="nav-number">3.4.</span> <span class="nav-text">SPF计算过程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SPF%E7%AE%97%E6%B3%95-1"><span class="nav-number">3.4.1.</span> <span class="nav-text">SPF算法 (1)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SPF%E7%AE%97%E6%B3%95-2"><span class="nav-number">3.4.2.</span> <span class="nav-text">SPF算法 (2)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SPF%E7%AE%97%E6%B3%95%E4%B8%BE%E4%BE%8B"><span class="nav-number">3.4.3.</span> <span class="nav-text">SPF算法举例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9E%84%E5%BB%BASPF%E6%A0%91-1"><span class="nav-number">3.4.4.</span> <span class="nav-text">构建SPF树 (1)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9E%84%E5%BB%BASPF%E6%A0%91-2"><span class="nav-number">3.4.5.</span> <span class="nav-text">构建SPF树 (2)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9E%84%E5%BB%BASPF%E6%A0%91-3"><span class="nav-number">3.4.6.</span> <span class="nav-text">构建SPF树 (3)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9E%84%E5%BB%BASPF%E6%A0%91-4"><span class="nav-number">3.4.7.</span> <span class="nav-text">构建SPF树 (4)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9E%84%E5%BB%BASPF%E6%A0%91-5"><span class="nav-number">3.4.8.</span> <span class="nav-text">构建SPF树 (5)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9E%84%E5%BB%BASPF%E6%A0%91-6"><span class="nav-number">3.4.9.</span> <span class="nav-text">构建SPF树 (6)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9E%84%E5%BB%BASPF%E6%A0%91-7"><span class="nav-number">3.4.10.</span> <span class="nav-text">构建SPF树 (7)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%80%E4%BC%98%E8%B7%AF%E7%94%B1"><span class="nav-number">3.4.11.</span> <span class="nav-text">计算最优路由</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%93%E6%9E%9C%E9%AA%8C%E8%AF%81"><span class="nav-number">3.4.12.</span> <span class="nav-text">结果验证</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%9D%E8%80%83%E9%A2%98"><span class="nav-number">3.5.</span> <span class="nav-text">思考题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%AC%E8%8A%82%E5%B0%8F%E7%BB%93"><span class="nav-number">3.6.</span> <span class="nav-text">本节小结</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8C%BA%E5%9F%9F%E9%97%B4%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97"><span class="nav-number">4.</span> <span class="nav-text">区域间路由计算</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%BA%E5%9F%9F%E9%97%B4%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97%E8%BF%87%E7%A8%8B"><span class="nav-number">4.1.</span> <span class="nav-text">区域间路由计算过程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%A7%E5%9E%8B%E7%BD%91%E7%BB%9C%E4%B8%AD%EF%BC%8C%E5%8D%95%E5%8C%BA%E5%9F%9FOSPF%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-number">4.1.1.</span> <span class="nav-text">大型网络中，单区域OSPF存在的问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8C%BA%E5%9F%9F%E5%88%92%E5%88%86"><span class="nav-number">4.1.2.</span> <span class="nav-text">区域划分</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8C%BA%E5%9F%9F%E9%97%B4%E8%B7%AF%E7%94%B1%E4%BF%A1%E6%81%AF%E4%BC%A0%E9%80%92"><span class="nav-number">4.1.3.</span> <span class="nav-text">区域间路由信息传递</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Network-Summary-LSA%E8%AF%A6%E8%A7%A3"><span class="nav-number">4.1.4.</span> <span class="nav-text">Network Summary LSA详解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Network-Summary-LSA%E7%A4%BA%E4%BE%8B"><span class="nav-number">4.1.5.</span> <span class="nav-text">Network Summary LSA示例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#R1%E5%92%8CR3%E7%9A%84%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97"><span class="nav-number">4.1.6.</span> <span class="nav-text">R1和R3的路由计算</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#R5%E7%9A%84%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97"><span class="nav-number">4.1.7.</span> <span class="nav-text">R5的路由计算</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8C%BA%E5%9F%9F%E9%97%B4%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97%E7%BB%93%E6%9E%9C%E9%AA%8C%E8%AF%81"><span class="nav-number">4.1.8.</span> <span class="nav-text">区域间路由计算结果验证</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%BA%E5%9F%9F%E9%97%B4%E8%B7%AF%E7%94%B1%E9%98%B2%E7%8E%AF%E6%9C%BA%E5%88%B6"><span class="nav-number">4.2.</span> <span class="nav-text">区域间路由防环机制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%9F%E9%97%B4%E8%B7%AF%E7%94%B1%E7%8E%AF%E8%B7%AF%E7%9A%84%E4%BA%A7%E7%94%9F"><span class="nav-number">4.2.1.</span> <span class="nav-text">域间路由环路的产生</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8C%BA%E5%9F%9F%E9%97%B4%E8%B7%AF%E7%94%B1%E7%9A%84%E9%98%B2%E7%8E%AF%E6%9C%BA%E5%88%B6-1"><span class="nav-number">4.2.2.</span> <span class="nav-text">区域间路由的防环机制 (1)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8C%BA%E5%9F%9F%E9%97%B4%E8%B7%AF%E7%94%B1%E7%9A%84%E9%98%B2%E7%8E%AF%E6%9C%BA%E5%88%B6-2"><span class="nav-number">4.2.3.</span> <span class="nav-text">区域间路由的防环机制 (2)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8C%BA%E5%9F%9F%E9%97%B4%E8%B7%AF%E7%94%B1%E7%9A%84%E9%98%B2%E7%8E%AF%E6%9C%BA%E5%88%B6-3"><span class="nav-number">4.2.4.</span> <span class="nav-text">区域间路由的防环机制 (3)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%99%9A%E8%BF%9E%E6%8E%A5%E7%9A%84%E4%BD%9C%E7%94%A8%E5%8F%8A%E9%85%8D%E7%BD%AE"><span class="nav-number">4.3.</span> <span class="nav-text">虚连接的作用及配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%9D%E8%80%83%E9%A2%98-1"><span class="nav-number">4.4.</span> <span class="nav-text">思考题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%AC%E8%8A%82%E5%B0%8F%E7%BB%93-1"><span class="nav-number">4.5.</span> <span class="nav-text">本节小结</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A4%96%E9%83%A8%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97"><span class="nav-number">5.</span> <span class="nav-text">外部路由计算</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#OSPF%E5%A4%96%E9%83%A8%E8%B7%AF%E7%94%B1%E5%BC%95%E5%85%A5%E8%83%8C%E6%99%AF"><span class="nav-number">5.1.</span> <span class="nav-text">OSPF外部路由引入背景</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%96%E9%83%A8%E8%B7%AF%E7%94%B1%E5%BC%95%E5%85%A5%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-number">5.2.</span> <span class="nav-text">外部路由引入的基本概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AS-external-LSA%E8%AF%A6%E8%A7%A3"><span class="nav-number">5.3.</span> <span class="nav-text">AS-external LSA详解</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AS-external-LSA%E7%A4%BA%E4%BE%8B"><span class="nav-number">5.4.</span> <span class="nav-text">AS-external LSA示例</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#R3%E7%9A%84%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97%E8%BF%87%E7%A8%8B"><span class="nav-number">5.5.</span> <span class="nav-text">R3的路由计算过程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ASBR-Summary-LSA"><span class="nav-number">5.6.</span> <span class="nav-text">ASBR-Summary LSA</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ASBR-Summary-LSA%E7%A4%BA%E4%BE%8B"><span class="nav-number">5.7.</span> <span class="nav-text">ASBR-Summary LSA示例</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#R5%E7%9A%84%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97%E8%BF%87%E7%A8%8B"><span class="nav-number">5.8.</span> <span class="nav-text">R5的路由计算过程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%BA%E5%88%86OSPF%E5%A4%96%E9%83%A8%E8%B7%AF%E7%94%B1%E7%9A%842%E7%A7%8D%E5%BA%A6%E9%87%8F%E5%80%BC%E7%B1%BB%E5%9E%8B-1"><span class="nav-number">5.9.</span> <span class="nav-text">区分OSPF外部路由的2种度量值类型 (1)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%BA%E5%88%86OSPF%E5%A4%96%E9%83%A8%E8%B7%AF%E7%94%B1%E7%9A%842%E7%A7%8D%E5%BA%A6%E9%87%8F%E5%80%BC%E7%B1%BB%E5%9E%8B-2"><span class="nav-number">5.10.</span> <span class="nav-text">区分OSPF外部路由的2种度量值类型 (2)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%9D%E8%80%83%E9%A2%98-2"><span class="nav-number">5.11.</span> <span class="nav-text">思考题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%AC%E8%8A%82%E5%B0%8F%E7%BB%93-2"><span class="nav-number">5.12.</span> <span class="nav-text">本节小结</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9C%AC%E7%AB%A0%E6%80%BB%E7%BB%93"><span class="nav-number">6.</span> <span class="nav-text">本章总结</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">张思宇</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
