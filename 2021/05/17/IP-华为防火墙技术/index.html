<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="IP-23-华为防火墙技术," />










<meta name="description" content="前言•“防火墙”一词起源于建筑领域，用来隔离火灾，阻止火势从一个区域蔓延到另一个区域。引入到通信领域，防火墙这一具体设备通常用于两个网络之间有针对性的、逻辑意义上的隔离。这种隔离是选择性的，隔离“火”的蔓延，而又保证“人”可以穿墙而过。这里的“火”是指网络中的各种攻击，而“人”是指正常的通信报文。 •本课程将介绍在通信领域中什么是防火墙，为什么需要防火墙，以及防火墙的基本工作原理和配置。 目标▫描">
<meta property="og:type" content="article">
<meta property="og:title" content="IP-华为防火墙技术">
<meta property="og:url" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/index.html">
<meta property="og:site_name" content="zsy&#39;s blog">
<meta property="og:description" content="前言•“防火墙”一词起源于建筑领域，用来隔离火灾，阻止火势从一个区域蔓延到另一个区域。引入到通信领域，防火墙这一具体设备通常用于两个网络之间有针对性的、逻辑意义上的隔离。这种隔离是选择性的，隔离“火”的蔓延，而又保证“人”可以穿墙而过。这里的“火”是指网络中的各种攻击，而“人”是指正常的通信报文。 •本课程将介绍在通信领域中什么是防火墙，为什么需要防火墙，以及防火墙的基本工作原理和配置。 目标▫描">
<meta property="og:locale">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/1.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/2.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/3.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/4.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/5.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/6.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/7.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/8.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/9.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/10.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/11.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/12.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/13.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/14.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/15.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/16.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/17.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/18.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/19.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/20.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/21.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/22.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/23.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/24.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/25.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/26.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/27.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/28.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/29.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/30.png">
<meta property="og:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/31.png">
<meta property="article:published_time" content="2021-05-17T11:42:33.000Z">
<meta property="article:modified_time" content="2021-05-17T12:03:27.497Z">
<meta property="article:author" content="张思宇">
<meta property="article:tag" content="IP-23-华为防火墙技术">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/1.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://example.com/2021/05/17/IP-华为防火墙技术/"/>





  <title>IP-华为防火墙技术 | zsy's blog</title>
  








<meta name="generator" content="Hexo 5.4.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">zsy's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">just simple</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/home" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/mydog.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zsy's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">IP-华为防火墙技术</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-05-17T19:42:33+08:00">
                2021-05-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>•“防火墙”一词起源于建筑领域，用来隔离火灾，阻止火势从一个区域蔓延到另一个区域。引入到通信领域，防火墙这一具体设备通常用于两个网络之间有针对性的、逻辑意义上的隔离。这种隔离是选择性的，隔离“火”的蔓延，而又保证“人”可以穿墙而过。这里的“火”是指网络中的各种攻击，而“人”是指正常的通信报文。</p>
<p>•本课程将介绍在通信领域中什么是防火墙，为什么需要防火墙，以及防火墙的基本工作原理和配置。</p>
<h1 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h1><p>▫描述防火墙的定义、类型和发展历史</p>
<p>▫区分防火墙与路由器和交换机</p>
<p>▫阐明防火墙的基本概念，例如安全区域、安全策略、会话表和Server-map等</p>
<p>▫实现防火墙的基本配置</p>
<h1 id="1-防火墙概述"><a href="#1-防火墙概述" class="headerlink" title="1.防火墙概述"></a>1.防火墙概述</h1><h2 id="为什么需要防火墙？"><a href="#为什么需要防火墙？" class="headerlink" title="为什么需要防火墙？"></a>为什么需要防火墙？</h2><p>•安全无处不在。路由器和交换机构建了互联互通的网络，带来便利的同时也带来了安全隐患。</p>
<p>•例如在网络边界，企业有了如下安全诉求：</p>
<p>▫外部网络安全隔离</p>
<p>▫内部网络安全管控</p>
<p>▫内容安全过滤</p>
<p>▫入侵防御</p>
<p>▫防病毒</p>
<p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/1.png"></p>
<h2 id="什么是防火墙？"><a href="#什么是防火墙？" class="headerlink" title="什么是防火墙？"></a>什么是防火墙？</h2><p>•在通信领域，防火墙是一种安全设备。它用于保护一个网络区域免受来自另一个网络区域的攻击和入侵，通常被应用于网络边界，例如企业互联网出口、企业内部业务边界、数据中心边界等。</p>
<p>•防火墙根据设备形态分为，框式防火墙、盒式防火墙和软件防火墙，支持在云上云下灵活部署。</p>
<p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/2.png"></p>
<blockquote>
<p>•严格意义上，防火墙还有更多的部署形态，例如桌面型防火墙（盒式防火墙的一种）。桌面型防火墙适用于小型企业、行业分支、连锁商业机构等场景。华为盒式防火墙同时支持传统模式和云管理模式。云管理模式由云端统一管理分支机构的安全接入，支持设备即插即用、业务配置自动化、运维可视化和网络大数据分析。</p>
<p>•本课程不过多介绍桌面型防火墙和软件防火墙，后续内容聚焦的框式/盒式硬件防火墙。</p>
</blockquote>
<h2 id="防火墙与交换机、路由器功能对比"><a href="#防火墙与交换机、路由器功能对比" class="headerlink" title="防火墙与交换机、路由器功能对比"></a>防火墙与交换机、路由器功能对比</h2><p>•以园区网为例，交换机作用是接入终端和汇聚内部路由，组建内部互联互通的局域网。</p>
<p>•路由器作用是路由的分发、寻址和转发，构建外部连接网络。</p>
<p>•防火墙作用是流量控制和安全防护，区分和隔离不同安全区域。</p>
<p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/3.png"></p>
<h2 id="防火墙与路由器转发流程对比"><a href="#防火墙与路由器转发流程对比" class="headerlink" title="防火墙与路由器转发流程对比"></a>防火墙与路由器转发流程对比</h2><p>•防火墙的转发流程比路由器复杂。以框式设备为例，硬件上除了接口、LPU（Line Processing Unit）、交换网板等外，防火墙还特有SPU（Service Processing Unit），用于实现防火墙的安全功能。</p>
<p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/4.png"></p>
<h2 id="防火墙的典型应用场景"><a href="#防火墙的典型应用场景" class="headerlink" title="防火墙的典型应用场景"></a>防火墙的典型应用场景</h2><p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/5.png"></p>
<blockquote>
<p>•DMZ（Demilitarized Zone）起源于军方，是介于严格的军事管制区和松散的公共区域之间的一种有着部分管制的区域。防火墙设备引用了这一术语，指代一个逻辑上和物理上都与内部网络和外部网络分离的安全区域。在企业中一般用于服务器的放置。</p>
<p>•数据中心网络一般采用Spine-Leaf架构。Spine为骨干节点负责流量高速转发，Leaf为叶子节点负责服务器、防火墙或其他设备接入。Spine-Leaf之间全三层互联。</p>
</blockquote>
<h2 id="防火墙的发展历程"><a href="#防火墙的发展历程" class="headerlink" title="防火墙的发展历程"></a>防火墙的发展历程</h2><p>•纵观防火墙的发展历史，防火墙经历了从低级到高级、从功能简单到功能复杂的过程。网络技术的不断发展和新需求的不断提出，推动着防火墙的发展。</p>
<p>•防火墙从包过滤防火墙发展起经历了状态检测、统一威胁管理、NGFW等到AI防火墙，有以下特点：</p>
<ul>
<li><p>访问控制越来越精细</p>
</li>
<li><p>防护能力越来越强</p>
</li>
<li><p>性能越来越高</p>
</li>
</ul>
<p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/6.png"></p>
<blockquote>
<p>•更多防火墙发展历史，请参考《强叔侃墙》</p>
</blockquote>
<h2 id="包过滤防火墙"><a href="#包过滤防火墙" class="headerlink" title="包过滤防火墙"></a>包过滤防火墙</h2><p>•包过滤是指基于五元组对每个数据包进行检测，根据配置的安全策略转发或丢弃数据包。</p>
<p>•包过滤防火墙的基本原理是：通过配置访问控制列表（Access Control List，ACL）实施数据包的过滤。</p>
<p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/7.png"></p>
<blockquote>
<p>•包过滤防火墙主要基于数据包中的源/目的IP地址、源/目的端口号、IP 标识和报文传递的方向等信息。</p>
<p>•包过滤防火墙的设计简单，非常易于实现，而且价格便宜。</p>
<p>•包过滤防火墙的缺点主要表现以下几点：</p>
<ul>
<li><p>随着ACL复杂度和长度的增加，其过滤性能呈指数下降；</p>
</li>
<li><p>静态的ACL规则难以适应动态的安全要求；</p>
</li>
<li><p>包过滤不检查会话状态也不分析数据，这很容易让黑客蒙混过关。例如，攻击者可以使用假冒地址进行欺骗，通过把自己主机IP地址设成一个合法主机IP地址，就能很轻易地通过报文过滤器。</p>
</li>
</ul>
</blockquote>
<h2 id="状态检测防火墙"><a href="#状态检测防火墙" class="headerlink" title="状态检测防火墙"></a>状态检测防火墙</h2><p>•状态检测是包过滤技术的发展，它考虑报文前后的关联性，检测的是连接状态而非单个报文。</p>
<p>•状态检测防火墙就是支持状态检测功能的防火墙。</p>
<p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/8.png"></p>
<blockquote>
<p>•状态检测防火墙通过对连接的首个数据包（后续简称首包）检测而确定一条连接的状态。后续数据包根据所属连接的状态进行控制（转发或阻塞）。</p>
</blockquote>
<h2 id="AI防火墙"><a href="#AI防火墙" class="headerlink" title="AI防火墙"></a>AI防火墙</h2><p>•AI防火墙是结合AI技术的新一代防火墙。它通过结合AI算法或AI芯片等多种方式，进一步提高了防火墙的安全防护能力和性能。</p>
<p>•华为AI防火墙，内置的恶意文件检测引擎CDE、诱捕Sensor、APT检测引擎和探针，支持与沙箱和华为大数据分析平台CIS联动检测，打造智能防御体系。</p>
<p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/9.png"></p>
<blockquote>
<p>•华为HiSecEngine USG6000E系列是业界首批推出的AI防火墙。AI防火墙没有统一的标准，例如通过用大量数据和算法“训练”防火墙，让其学会自主识别威胁；通过内置AI芯片，提高应用识别和转发性能，都可以被称为AI防火墙。</p>
<p>•APT（Advanced Persistent Threat，高级持续性威胁）是指用先进的攻击手段对特定目标进行长期持续性攻击的攻击形式。</p>
<p>•沙箱（Sandbox）是一个用于检测病毒的安全设备，它为疑似病毒构建虚拟环境，通过观察其后续行为检测病毒。沙箱是APT检测的重要设备。华为的沙箱产品为Firehunter。</p>
<p>•CIS（Cybersecurity Intelligence System）能够对网络中的流量及各类设备的网络、安全日志等海量网络基础数据执行有效采集，通过大数据实时及离线分析，结合机器学习技术、专家信誉、情报驱动，有效的发现网络中的潜在威胁和高级威胁，实现企业内部的全网安全态势感知，同时可以结合华为HiSec解决方案高效地完成威胁的处置闭环，防患未然。</p>
<p>•自研恶意文件检测引擎（CDE）引入PE Class 2.0 AI算法，对全文件进行还原，对文件内容进行深度检测。（业界主流基于流检测。流检测的检测速度快，但只还原文件头，不对文件内容进行检查。</p>
<p>•华为独创的AIE APT检测引擎，引入AI算法，持续防御最新威胁。</p>
<p>•更多AI防火墙相关内容请参考<a target="_blank" rel="noopener" href="https://e.huawei.com/cn/products/enterprise-networking/security%E5%92%8Chttps://e.huawei.com/cn/material/networking/e1869bfff9ca42c1b4f6a83f69118215%E3%80%82">https://e.huawei.com/cn/products/enterprise-networking/security和https://e.huawei.com/cn/material/networking/e1869bfff9ca42c1b4f6a83f69118215。</a></p>
</blockquote>
<h2 id="本节小结"><a href="#本节小结" class="headerlink" title="本节小结"></a>本节小结</h2><p>•本章节主要介绍防火墙的基本概念、应用场景和发展历史：</p>
<p>▫防火墙是一种安全设备，有灵活的设备形态包括框式、盒式、桌面型和软件防火墙。</p>
<p>▫防火墙可被用于但不仅限于企业边界防护、内网管控与安全隔离、数据中心边界防护和数据中心安全联动。</p>
<p>▫防火墙技术不断的发展，从早期的包过滤防火墙发展到当前的AI防火墙。</p>
<h1 id="2-防火墙的基本概念"><a href="#2-防火墙的基本概念" class="headerlink" title="2.防火墙的基本概念"></a>2.防火墙的基本概念</h1><h2 id="防火墙基本概念：安全区域"><a href="#防火墙基本概念：安全区域" class="headerlink" title="防火墙基本概念：安全区域"></a>防火墙基本概念：安全区域</h2><p>•安全区域（Security Zone），简称为区域（Zone），是防火墙的重要概念。防火墙大部分的安全策略都基于安全区域实施。</p>
<p>•一个安全区域是防火墙若干接口所连网络的集合，一个区域内的用户具有相同的安全属性。</p>
<p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/10.png"></p>
<h2 id="默认安全区域"><a href="#默认安全区域" class="headerlink" title="默认安全区域"></a>默认安全区域</h2><p>•华为防火墙确认已创建四个区域，untrust、dmz、trust和local区域。安全区域有以下特性：</p>
<ul>
<li><p>默认的安全区域不能删除，也不允许修改安全优先级。</p>
</li>
<li><p>每个Zone都必须设置一个安全优先级（Priority），值越大，则Zone的安全优先级越高。</p>
</li>
<li><p>用户可根据自己的需求创建自定义的Zone。</p>
</li>
</ul>
<p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/11.png"></p>
<blockquote>
<p>防火墙默认安全区域均为小写字母，且大小写敏感，包括：</p>
<p>•非受信区域（untrust）：通常用于定义Internet等不安全的网络。</p>
<p>•非军事化区域（dmz）：通常用于定义内网服务器所在区域。因为这种设备虽然部署在内网，但是经常需要被外网访问，存在较大安全隐患，同时一般又不允许其主动访问外网，所以将其部署一个优先级比trust低，但是比untrust高的安全区域中。</p>
<ul>
<li><p>DMZ（Demilitarized Zone）起源于军方，是介于严格的军事管制区和松散的公共区域之间的一种有着部分管制的区域。防火墙设备引用了这一术语，指代一个逻辑上和物理上都与内部网络和外部网络分离的安全区域。</p>
</li>
<li><p>DMZ安全区域很好地解决了服务器的放置问题。该安全区域可以放置需要对外提供网络服务的设备，如WWW服务器、FTP服务器等。上述服务器如果放置于内部网络，外部恶意用户则有可能利用某些服务的安全漏洞攻击内部网络；如果放置于外部网络，则无法保障它们的安全。</p>
</li>
</ul>
<p>•受信区域（trust）：通常用于定义内网终端用户所在区域。</p>
<p>•本地区域（local）：local区域定义的是设备本身，包括设备的各接口本身。凡是由设备构造并主动发出的报文均可认为是从Local区域中发出，凡是需要设备响应并处理（而不仅是检测或直接转发）的报文均可认为是由local区域接收。用户不能改变local区域本身的任何配置，包括向其中添加接口。</p>
<ul>
<li>由于local区域的特殊性，在很多需要设备本身进行报文收发的应用中，需要开放对端所在安全区域与local区域之间的安全策略。</li>
</ul>
</blockquote>
<h2 id="区域间（Interzone）示例"><a href="#区域间（Interzone）示例" class="headerlink" title="区域间（Interzone）示例"></a>区域间（Interzone）示例</h2><p>流量的源、目的地址决定了互访的区域。本例1中PC访问防火墙的接口的流量实际上是从trust zone到达local zone；本例2中PC访问Internet的流量实际上是从trust zone到达untrust zone。</p>
<p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/12.png"></p>
<h2 id="防火墙基本概念：安全策略"><a href="#防火墙基本概念：安全策略" class="headerlink" title="防火墙基本概念：安全策略"></a>防火墙基本概念：安全策略</h2><p>•安全策略是控制防火墙对流量转发以及对流量进行内容安全一体化检测的策略。</p>
<p>•当防火墙收到流量后，对流量的属性（五元组、用户、时间段等）进行识别，然后与安全策略的条件进行匹配。如果条件匹配，则此流量被执行对应的动作。</p>
<p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/13.png"></p>
<h2 id="安全策略组成"><a href="#安全策略组成" class="headerlink" title="安全策略组成"></a>安全策略组成</h2><p>•安全策略的组成有匹配条件、动作和安全配置文件（可选）。安全配置文件实现内容安全。</p>
<p>•安全策略动作如果为“允许”则可配置安全配置文件，如果为“禁止”则可配置反馈报文。</p>
<p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/14.png"></p>
<blockquote>
<p>•动作说明：</p>
<p>▫允许：如果动作为“允许”，则对流量进行如下处理：</p>
<ul>
<li><p>如果没有配置内容安全检测，则允许流量通过。</p>
</li>
<li><p>如果配置内容安全检测，最终根据内容安全检测的结论来判断是否对流量进行放行。内容安全检测包括反病毒、入侵防御等，它是通过在安全策略中引用安全配置文件实现的。如果其中一个安全配置文件阻断该流量，则防火墙阻断该流量。如果所有的安全配置文件都允许该流量转发，则防火墙允许该流量转发。</p>
</li>
</ul>
<p>▫禁止：表示拒绝符合条件的流量通过。</p>
<ul>
<li>如果动作为“禁止”，防火墙不仅可以将报文丢弃，还可以针对不同的报文类型选择发送对应的反馈报文。发起连接请求的客户端/服务器收到防火墙发送的阻断报文后，可以快速结束会话并让用户感知到请求被阻断。<ul>
<li>Reset客户端：防火墙向TCP客户端发送TCP reset报文。</li>
<li>Reset服务器：防火墙向TCP服务器发送TCP reset报文。</li>
<li>ICMP不可达：FW向报文客户端发送ICMP不可达报文。</li>
</ul>
</li>
</ul>
<p>•更多详细信息，可以参考文档，“安全策略”章节，<a target="_blank" rel="noopener" href="https://support.huawei.com/hedex/hdx.do?docid=EDOC1100084128&amp;lang=zh&amp;idPath=24030814%7C9856724%7C21430823%7C22984765%7C23176238%E3%80%82">https://support.huawei.com/hedex/hdx.do?docid=EDOC1100084128&amp;lang=zh&amp;idPath=24030814%7C9856724%7C21430823%7C22984765%7C23176238。</a></p>
</blockquote>
<h2 id="安全策略的匹配过程"><a href="#安全策略的匹配过程" class="headerlink" title="安全策略的匹配过程"></a>安全策略的匹配过程</h2><p>•当配置多条安全策略规则时，安全策略的匹配按照策略列表的顺序执行，即从策略列表顶端开始逐条向下匹配。如果流量匹配了某个安全策略，将不再进行下一个策略的匹配。</p>
<p>•安全策略的配置顺序很重要，需要先配置条件精确的策略，再配置宽泛的策略。</p>
<p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/15.png"></p>
<blockquote>
<p>•系统默认存在一条缺省安全策略default。缺省安全策略位于策略列表的最底部，优先级最低，所有匹配条件均为any，动作默认为禁止。如果所有配置的策略都未匹配，则将匹配缺省安全策略default。</p>
</blockquote>
<h2 id="防火墙基本概念：会话表"><a href="#防火墙基本概念：会话表" class="headerlink" title="防火墙基本概念：会话表"></a>防火墙基本概念：会话表</h2><p>•会话表是用来记录TCP、UDP、ICMP等协议连接状态的表项，是防火墙转发报文的重要依据。</p>
<p>•防火墙采用了基于“状态”的报文控制机制：只对首包或者少量报文进行检测就确定一条连接的状态，大量报文直接根据所属连接的状态进行控制。这种状态检测机制迅速提高了防火墙的检测和转发效率。会话表就是为了记录连接的状态而存在的。设备在转发TCP、UDP和ICMP报文时都需要查询会话表，来判断该报文所属的连接并采取相应的处理措施。</p>
<p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/16.png"></p>
<blockquote>
<p>•本例中PC1向PC2发起HTTP连接，所以在防火墙会话表中标示出“http”协议和连接信息，并识别出此流量在公共路由表中被转发（图中VPN:public）。</p>
</blockquote>
<h2 id="会话表的创建和包处理过程"><a href="#会话表的创建和包处理过程" class="headerlink" title="会话表的创建和包处理过程"></a>会话表的创建和包处理过程</h2><p>•防火墙状态检测开启情况下，流量的首包会创建会话表项，后续包即可直接匹配会话表项。</p>
<p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/17.png"></p>
<blockquote>
<p>•本流程只是一个示意图，展示了华为防火墙各个模块的基本处理顺序。实际不同的报文处理并非严格按照此流程图依次进行（若无对应配置），且与具体产品实现相关。</p>
<p>•更多详细信息，可以参考指定型号防火墙产品文档，“报文转发流程”章节。</p>
</blockquote>
<h2 id="会话表的老化时间与长连接"><a href="#会话表的老化时间与长连接" class="headerlink" title="会话表的老化时间与长连接"></a>会话表的老化时间与长连接</h2><p>•防火墙为各种协议设定了会话老化机制。当一条会话在老化时间内没有被任何报文匹配，则会被从会话表中删除。这种机制可以避免防火墙的设备资源被大量无用、陈旧的会话表项消耗。</p>
<p>•但是对于某些特殊业务中，一条会话的两个连续报文可能间隔时间很长。例如：</p>
<ul>
<li><p>用户通过FTP下载大文件，需要间隔很长时间才会在控制通道继续发送控制报文。</p>
</li>
<li><p>用户需要查询数据库服务器上的数据，这些查询操作的时间间隔远大于TCP的会话老化时间。</p>
</li>
</ul>
<p>•此时如果其会话表项被删除，则该业务会中断。长连接（Long Link）机制可以给部分连接设定超长的老化时间，有效解决这个问题。</p>
<h2 id="多通道协议在防火墙上的问题"><a href="#多通道协议在防火墙上的问题" class="headerlink" title="多通道协议在防火墙上的问题"></a>多通道协议在防火墙上的问题</h2><p>•如果在防火墙上配置严格的单向安全策略，那么防火墙将只允许业务单方向发起访问。这会导致一些特殊的协议无法工作，例如FTP。</p>
<p>•FTP主动模式传输文件时，首先需要客户端主动向服务器端发起控制连接，然后需要服务器端向客户端发起数据连接。如果设备上配置的安全策略仅允许客户端报文单方向通过，则FTP文件传输不能成功。</p>
<p>•同FTP，通信过程中需占用两个或两个以上端口的协议被称为多通道协议。多通道协议都需要考虑此类问题。</p>
<p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/18.png"></p>
<blockquote>
<p>•单通道协议：通信过程中只需占用一个端口的协议。如：WWW只需占用80端口。</p>
<p>•多通道协议：通信过程中需占用两个或两个以上端口的协议。</p>
<p>•FTP协议是一个典型的多通道协议，在其工作过程中，FTP Client和FTP Server之间将会建立两条连接：控制连接和数据连接。控制连接用来传输FTP指令和参数，其中就包括建立数据连接所需要的信息。数据连接用来获取服务器目录及传输数据。数据连接使用的端口号是在控制连接中临时协商的。根据数据连接的发起方式FTP协议分为两种工作模式：主动模式（PORT模式）和被动模式（PASV模式）。主动模式中，FTP Server 20号端口主动向FTP Client随机端口发起数据连接；被动模式中，FTP Server被动接收FTP Client发起的数据连接。模式在一般的FTP客户端中都是可以设置的，这里我们以主动模式为例。</p>
<p>•多通道协议存在时，防火墙配置较为宽泛的安全策略也可以解决协议不可用问题，但是存在安全隐患。</p>
</blockquote>
<h2 id="多通道协议-–-FTP过程详解"><a href="#多通道协议-–-FTP过程详解" class="headerlink" title="多通道协议 – FTP过程详解"></a>多通道协议 – FTP过程详解</h2><p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/19.png"></p>
<blockquote>
<p>•大部分多媒体应用协议（如H.323、SIP）、FTP、netmeeting等协议使用约定的固定端口来初始化一个控制连接，再动态的协商出端口用于数据传输。端口的选择是不可预测的。其中的某些应用甚至可能要同时用到多个端口。传统的包过滤防火墙可以通过配置ACL过滤规则匹配单通道协议的应用传输，保障内部网络不受攻击，但只能阻止一些使用固定端口的应用，无法匹配使用协商出随机端口传输数据的多通道协议应用，留下了许多安全隐患。</p>
</blockquote>
<h2 id="ASPF与Server-map"><a href="#ASPF与Server-map" class="headerlink" title="ASPF与Server-map"></a>ASPF与Server-map</h2><p>•为了解决多通道协议的问题，防火墙需要识别协议在应用层协商的地址和端口。这需要开启ASPF （Application Specific Packet Filter，针对应用层的包过滤）功能。</p>
<p>•ASPF也称作基于状态的报文过滤，ASPF功能可以自动检测某些报文的应用层信息并根据应用层信息放开相应的访问规则，即生成Server-map表。</p>
<p>•Server-map表也记录了类似会话表中连接的状态。Server-map表中的信息相对简单，是简化的会话表，在真实流量到达前生成。在流量真实到达防火墙时，防火墙会基于Server-map表生成会话表，然后执行转发。</p>
<p>•开启ASPF解决多通道协议问题，是生成Server-map表的一种方式。</p>
<blockquote>
<p>•在防火墙配置了ASPF、NAT Server和No-PAT方式的源NAT时，都会生成相应的Server-map表项。</p>
</blockquote>
<h2 id="ASPF与Server-map示例"><a href="#ASPF与Server-map示例" class="headerlink" title="ASPF与Server-map示例"></a>ASPF与Server-map示例</h2><p>•防火墙上配置了ASPF功能后，会检测FTP控制连接中协商的数据连接端口信息，然后生成Server-map表项。Server-map表项包含了FTP控制通道中协商的数据通道的信息。防火墙为命中Server-map表的数据创建会话表。</p>
<p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/20.png"></p>
<blockquote>
<p>Server-map表与会话表的关系如下：</p>
<p>▫Server-map表记录了应用层数据中的关键信息，报文命中该表后，不再受安全策略的控制；</p>
<p>▫会话表是通信双方连接状态的具体体现；</p>
<p>▫Server-map表不是当前的连接信息，而是防火墙对当前连接分析后得到的即将到来报文的预测；</p>
<p>▫防火墙收到报文先检查是否命中会话表；</p>
<p>▫如果没有命中则检查是否命中Server-map表；</p>
<p>▫命中Server-map表的报文不受安全策略控制；</p>
<p>▫防火墙最后为命中Server-map表的数据创建会话表。</p>
</blockquote>
<h2 id="Server-map表与简化的包转发过程"><a href="#Server-map表与简化的包转发过程" class="headerlink" title="Server-map表与简化的包转发过程"></a>Server-map表与简化的包转发过程</h2><p>•当防火墙接收到一个报文且没有命中会话表时，防火墙进入首包处理流程，查询是否有命中的Server-map表。如果有，则会生成会话表转发报文；如果没有，则执行其他包处理过程。</p>
<p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/21.png"></p>
<h2 id="本节小结-1"><a href="#本节小结-1" class="headerlink" title="本节小结"></a>本节小结</h2><p>•本章节主要介绍防火墙的基本概念和基础特性，它们有：</p>
<p>​    ▫安全区域</p>
<p>​    ▫安全策略</p>
<p>​    ▫防火墙的会话表</p>
<p>​    ▫防火墙的Server-map</p>
<h1 id="3-防火墙的基础配置"><a href="#3-防火墙的基础配置" class="headerlink" title="3.防火墙的基础配置"></a>3.防火墙的基础配置</h1><h2 id="防火墙基础配置-接口"><a href="#防火墙基础配置-接口" class="headerlink" title="防火墙基础配置 - 接口"></a>防火墙基础配置 - 接口</h2><p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/22.png"></p>
<h2 id="防火墙基础配置-安全区域"><a href="#防火墙基础配置-安全区域" class="headerlink" title="防火墙基础配置 - 安全区域"></a>防火墙基础配置 - 安全区域</h2><p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/23.png"></p>
<h2 id="防火墙基础配置-安全策略"><a href="#防火墙基础配置-安全策略" class="headerlink" title="防火墙基础配置 - 安全策略"></a>防火墙基础配置 - 安全策略</h2><p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/24.png"></p>
<p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/25.png"></p>
<blockquote>
<p>•安全策略规则视图中指定源、目的IP地址可以有很多的可选参数，例如IP地址组、地区和地区组等，本课程不做过多介绍。更多详细内容请参考产品文档。</p>
</blockquote>
<h2 id="防火墙配置案例"><a href="#防火墙配置案例" class="headerlink" title="防火墙配置案例"></a>防火墙配置案例</h2><p>案例描述：</p>
<p>防火墙将网络隔离为三个安全区域，trust、untrust和OM，其中OM区域优先级为95。现有需求如下：</p>
<ul>
<li><p>允许防火墙接口GE1/0/1响应Ping请求。</p>
</li>
<li><p>允许OM区域ICMP流量访问untrust区域。</p>
</li>
</ul>
<p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/26.png"></p>
<h3 id="配置案例-接口"><a href="#配置案例-接口" class="headerlink" title="配置案例 - 接口"></a>配置案例 - 接口</h3><p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/27.png"></p>
<h3 id="配置案例-安全区域"><a href="#配置案例-安全区域" class="headerlink" title="配置案例 - 安全区域"></a>配置案例 - 安全区域</h3><p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/28.png"></p>
<h3 id="配置案例-安全策略"><a href="#配置案例-安全策略" class="headerlink" title="配置案例 - 安全策略"></a>配置案例 - 安全策略</h3><p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/29.png"></p>
<h3 id="配置案例-结果验证-1"><a href="#配置案例-结果验证-1" class="headerlink" title="配置案例 - 结果验证 (1)"></a>配置案例 - 结果验证 (1)</h3><p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/30.png"></p>
<h3 id="配置案例-结果验证-2"><a href="#配置案例-结果验证-2" class="headerlink" title="配置案例 - 结果验证 (2)"></a>配置案例 - 结果验证 (2)</h3><p><img src="/2021/05/17/IP-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/31.png"></p>
<h2 id="本节小结-2"><a href="#本节小结-2" class="headerlink" title="本节小结"></a>本节小结</h2><p>•本小结主要介绍防火墙的基础配置命令。通过学习你已实现使用命令行：</p>
<p>​    ▫配置防火墙接口</p>
<p>​    ▫划分防火墙安全区域</p>
<p>​    ▫配置安全策略</p>
<p>​    ▫查看防火墙会话信息</p>
<h1 id="思考题"><a href="#思考题" class="headerlink" title="思考题"></a>思考题</h1><p>1.（单选题）缺省情况下，防火墙有几个安全区域？（  ）</p>
<p>A. 1</p>
<p>B. 2      </p>
<p>C. 3     </p>
<p><strong>D. 4</strong></p>
<p>2.（判断题）防火墙在生产会话表之前，都需要先生成Server-map。 （  ）</p>
<p>A.对</p>
<p><strong>B.错</strong></p>
<p>3.（多选题）以下对于华为AI防火墙说法正确的是？ （  ）</p>
<p><strong>A. 内置恶意文件检测引擎（CDE)</strong></p>
<p><strong>B. 内置探针</strong></p>
<p><strong>C. 内置APT检测引擎（AIE）</strong></p>
<p><strong>D. 内置独创诱捕Sensor</strong></p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>•防火墙是通信领域极为重要的安全设备之一，本章帮助您初步学习防火墙的基本概念、发展历史和基础配置。</p>
<p>•安全区域、安全策略、会话表和Server-map是防火墙基础的、重要的概念，是进一步学习防火墙技术的必要前提。</p>
<p>•防火墙有更多的安全功能，例如内容安全过滤、反病毒和入侵防御等。更多防火墙技术学习请参考华为安全认证。</p>
<h1 id="更多信息"><a href="#更多信息" class="headerlink" title="更多信息"></a>更多信息</h1><p>•华为HiSecEngine USG6000E系列AI防火墙相关文档。</p>
<p>•<a target="_blank" rel="noopener" href="https://support.huawei.com/enterprise/zh/security/usg6600e-pid-23176231">https://support.huawei.com/enterprise/zh/security/usg6600e-pid-23176231</a></p>
<p>•更多相关教材和视频请关注<a target="_blank" rel="noopener" href="https://e.huawei.com/cn/talent/#/home">https://e.huawei.com/cn/talent/#/home</a></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/IP-23-%E5%8D%8E%E4%B8%BA%E9%98%B2%E7%81%AB%E5%A2%99%E6%8A%80%E6%9C%AF/" rel="tag"># IP-23-华为防火墙技术</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2021/05/17/IP-IPv6%E5%9C%B0%E5%9D%80%E9%85%8D%E7%BD%AE/" rel="next" title="IP-IPv6地址配置">
                <i class="fa fa-chevron-left"></i> IP-IPv6地址配置
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2021/05/17/IP-%E7%BD%91%E7%BB%9C%E8%AE%BE%E5%A4%87%E5%AE%89%E5%85%A8%E7%89%B9%E6%80%A7/" rel="prev" title="IP-网络设备安全特性">
                IP-网络设备安全特性 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/mydog.jpg"
                alt="" />
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">56</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">61</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/zsy9959" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:zsy9959@163.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%9B%AE%E6%A0%87"><span class="nav-number">2.</span> <span class="nav-text">目标</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#1-%E9%98%B2%E7%81%AB%E5%A2%99%E6%A6%82%E8%BF%B0"><span class="nav-number">3.</span> <span class="nav-text">1.防火墙概述</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E9%98%B2%E7%81%AB%E5%A2%99%EF%BC%9F"><span class="nav-number">3.1.</span> <span class="nav-text">为什么需要防火墙？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E9%98%B2%E7%81%AB%E5%A2%99%EF%BC%9F"><span class="nav-number">3.2.</span> <span class="nav-text">什么是防火墙？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99%E4%B8%8E%E4%BA%A4%E6%8D%A2%E6%9C%BA%E3%80%81%E8%B7%AF%E7%94%B1%E5%99%A8%E5%8A%9F%E8%83%BD%E5%AF%B9%E6%AF%94"><span class="nav-number">3.3.</span> <span class="nav-text">防火墙与交换机、路由器功能对比</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99%E4%B8%8E%E8%B7%AF%E7%94%B1%E5%99%A8%E8%BD%AC%E5%8F%91%E6%B5%81%E7%A8%8B%E5%AF%B9%E6%AF%94"><span class="nav-number">3.4.</span> <span class="nav-text">防火墙与路由器转发流程对比</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99%E7%9A%84%E5%85%B8%E5%9E%8B%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-number">3.5.</span> <span class="nav-text">防火墙的典型应用场景</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99%E7%9A%84%E5%8F%91%E5%B1%95%E5%8E%86%E7%A8%8B"><span class="nav-number">3.6.</span> <span class="nav-text">防火墙的发展历程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%85%E8%BF%87%E6%BB%A4%E9%98%B2%E7%81%AB%E5%A2%99"><span class="nav-number">3.7.</span> <span class="nav-text">包过滤防火墙</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%8A%B6%E6%80%81%E6%A3%80%E6%B5%8B%E9%98%B2%E7%81%AB%E5%A2%99"><span class="nav-number">3.8.</span> <span class="nav-text">状态检测防火墙</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AI%E9%98%B2%E7%81%AB%E5%A2%99"><span class="nav-number">3.9.</span> <span class="nav-text">AI防火墙</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%AC%E8%8A%82%E5%B0%8F%E7%BB%93"><span class="nav-number">3.10.</span> <span class="nav-text">本节小结</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-%E9%98%B2%E7%81%AB%E5%A2%99%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-number">4.</span> <span class="nav-text">2.防火墙的基本概念</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%EF%BC%9A%E5%AE%89%E5%85%A8%E5%8C%BA%E5%9F%9F"><span class="nav-number">4.1.</span> <span class="nav-text">防火墙基本概念：安全区域</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%BB%98%E8%AE%A4%E5%AE%89%E5%85%A8%E5%8C%BA%E5%9F%9F"><span class="nav-number">4.2.</span> <span class="nav-text">默认安全区域</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%BA%E5%9F%9F%E9%97%B4%EF%BC%88Interzone%EF%BC%89%E7%A4%BA%E4%BE%8B"><span class="nav-number">4.3.</span> <span class="nav-text">区域间（Interzone）示例</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%EF%BC%9A%E5%AE%89%E5%85%A8%E7%AD%96%E7%95%A5"><span class="nav-number">4.4.</span> <span class="nav-text">防火墙基本概念：安全策略</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E5%85%A8%E7%AD%96%E7%95%A5%E7%BB%84%E6%88%90"><span class="nav-number">4.5.</span> <span class="nav-text">安全策略组成</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E5%85%A8%E7%AD%96%E7%95%A5%E7%9A%84%E5%8C%B9%E9%85%8D%E8%BF%87%E7%A8%8B"><span class="nav-number">4.6.</span> <span class="nav-text">安全策略的匹配过程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%EF%BC%9A%E4%BC%9A%E8%AF%9D%E8%A1%A8"><span class="nav-number">4.7.</span> <span class="nav-text">防火墙基本概念：会话表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%9A%E8%AF%9D%E8%A1%A8%E7%9A%84%E5%88%9B%E5%BB%BA%E5%92%8C%E5%8C%85%E5%A4%84%E7%90%86%E8%BF%87%E7%A8%8B"><span class="nav-number">4.8.</span> <span class="nav-text">会话表的创建和包处理过程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%9A%E8%AF%9D%E8%A1%A8%E7%9A%84%E8%80%81%E5%8C%96%E6%97%B6%E9%97%B4%E4%B8%8E%E9%95%BF%E8%BF%9E%E6%8E%A5"><span class="nav-number">4.9.</span> <span class="nav-text">会话表的老化时间与长连接</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%9A%E9%80%9A%E9%81%93%E5%8D%8F%E8%AE%AE%E5%9C%A8%E9%98%B2%E7%81%AB%E5%A2%99%E4%B8%8A%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-number">4.10.</span> <span class="nav-text">多通道协议在防火墙上的问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%9A%E9%80%9A%E9%81%93%E5%8D%8F%E8%AE%AE-%E2%80%93-FTP%E8%BF%87%E7%A8%8B%E8%AF%A6%E8%A7%A3"><span class="nav-number">4.11.</span> <span class="nav-text">多通道协议 – FTP过程详解</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ASPF%E4%B8%8EServer-map"><span class="nav-number">4.12.</span> <span class="nav-text">ASPF与Server-map</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ASPF%E4%B8%8EServer-map%E7%A4%BA%E4%BE%8B"><span class="nav-number">4.13.</span> <span class="nav-text">ASPF与Server-map示例</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Server-map%E8%A1%A8%E4%B8%8E%E7%AE%80%E5%8C%96%E7%9A%84%E5%8C%85%E8%BD%AC%E5%8F%91%E8%BF%87%E7%A8%8B"><span class="nav-number">4.14.</span> <span class="nav-text">Server-map表与简化的包转发过程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%AC%E8%8A%82%E5%B0%8F%E7%BB%93-1"><span class="nav-number">4.15.</span> <span class="nav-text">本节小结</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-%E9%98%B2%E7%81%AB%E5%A2%99%E7%9A%84%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE"><span class="nav-number">5.</span> <span class="nav-text">3.防火墙的基础配置</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE-%E6%8E%A5%E5%8F%A3"><span class="nav-number">5.1.</span> <span class="nav-text">防火墙基础配置 - 接口</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE-%E5%AE%89%E5%85%A8%E5%8C%BA%E5%9F%9F"><span class="nav-number">5.2.</span> <span class="nav-text">防火墙基础配置 - 安全区域</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE-%E5%AE%89%E5%85%A8%E7%AD%96%E7%95%A5"><span class="nav-number">5.3.</span> <span class="nav-text">防火墙基础配置 - 安全策略</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99%E9%85%8D%E7%BD%AE%E6%A1%88%E4%BE%8B"><span class="nav-number">5.4.</span> <span class="nav-text">防火墙配置案例</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%A1%88%E4%BE%8B-%E6%8E%A5%E5%8F%A3"><span class="nav-number">5.4.1.</span> <span class="nav-text">配置案例 - 接口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%A1%88%E4%BE%8B-%E5%AE%89%E5%85%A8%E5%8C%BA%E5%9F%9F"><span class="nav-number">5.4.2.</span> <span class="nav-text">配置案例 - 安全区域</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%A1%88%E4%BE%8B-%E5%AE%89%E5%85%A8%E7%AD%96%E7%95%A5"><span class="nav-number">5.4.3.</span> <span class="nav-text">配置案例 - 安全策略</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%A1%88%E4%BE%8B-%E7%BB%93%E6%9E%9C%E9%AA%8C%E8%AF%81-1"><span class="nav-number">5.4.4.</span> <span class="nav-text">配置案例 - 结果验证 (1)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%A1%88%E4%BE%8B-%E7%BB%93%E6%9E%9C%E9%AA%8C%E8%AF%81-2"><span class="nav-number">5.4.5.</span> <span class="nav-text">配置案例 - 结果验证 (2)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%AC%E8%8A%82%E5%B0%8F%E7%BB%93-2"><span class="nav-number">5.5.</span> <span class="nav-text">本节小结</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%80%9D%E8%80%83%E9%A2%98"><span class="nav-number">6.</span> <span class="nav-text">思考题</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">7.</span> <span class="nav-text">总结</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9B%B4%E5%A4%9A%E4%BF%A1%E6%81%AF"><span class="nav-number">8.</span> <span class="nav-text">更多信息</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">张思宇</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
